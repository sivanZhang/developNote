<html>

<head>
    <!-- 引入animate 动画插件,可以自己去官网下载 （依赖）-->
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.0/animate.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <style>
        [data-animate] {
            opacity: 0;
        }
    </style>
</head>

<body>
    <div data-animate="bounceInDown">
        <!-- 为需要设置动画的加自定义属性，值是animate.css中的具体动画类名 -->
        hello , animation
    </div>
    <script>
        $(window).scroll(() => {
            let scrollTop = jQuery(window).scrollTop(); //可视区到页面顶部的偏移距离
            let windowHeight = $(window).height(); //可视区高
            $('[data-animate]').each(function (index) {
                $(this).css({
                    'opcity': '0'
                });
                let elHeight = $(this).height(); //当前元素高度
                let elementOffset = $(this).offset().top; //当前元素距离页面顶部偏移量
                let distance = (elementOffset + elHeight); //当前元素距离页面顶部偏移量
                let animateName = $(this).attr('data-animate');
                if ((scrollTop + windowHeight) >= elementOffset + 84) {
                    $(this).addClass(`animated ${animateName}`);
                    $(this).css({
                        'opacity': '1'
                    });
                    setTimeout(() => {
                        $(this).removeAttr(`data-animate`);
                        $(this).removeClass(`animated ${animateName}`);
                    }, 2000)
                }
            });
        });
        $(window).load(
            () => {
                let scrollTop = jQuery(window).scrollTop(); //可视区到页面顶部的偏移距离
                let windowHeight = $(window).height(); //可视区高
                $('[data-animate]').each(function (index) {
                    $(this).css({
                        'opcity': '0'
                    });
                    let elHeight = $(this).height(); //当前元素高度
                    let elementOffset = $(this).offset().top; //当前元素距离页面顶部偏移量
                    let distance = (elementOffset + elHeight); //当前元素距离页面顶部偏移量
                    let animateName = $(this).attr('data-animate');
                    if ((scrollTop + windowHeight) >= elementOffset + 84) {
                        $(this).addClass(`animated ${animateName}`);
                        $(this).css({
                            'opacity': '1'
                        });
                        setTimeout(() => {
                            $(this).removeAttr(`data-animate`);
                            $(this).removeClass(`animated ${animateName}`);
                        }, 2000)
                    }
                });
            }
        )
    </script>
</body>

</html>
